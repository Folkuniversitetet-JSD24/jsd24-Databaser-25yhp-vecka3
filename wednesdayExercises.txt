ğŸ§‘â€ğŸ’» SJÃ„LVSTÃ„NDIGA Ã–VNINGAR â€“ Mongoose: Relationer + .aggregate()

ğŸ§  Syfte:

TrÃ¤na pÃ¥ att koppla ihop flera modeller med ref

AnvÃ¤nda .populate() fÃ¶r att hÃ¤mta relaterade dokument (pÃ¥ en eller flera nivÃ¥er)

AnvÃ¤nda .aggregate() med $group, $match, $sort, $project fÃ¶r att sammanstÃ¤lla och filtrera data

FÃ¶rstÃ¥ nÃ¤r .aggregate() Ã¤r bÃ¤ttre Ã¤n vanlig JavaScript

----------------------
ğŸŸ¢ LÃ¤tt nivÃ¥

1.ğŸ¬ Filmer + Recensioner

Uppgift:
Skapa modeller fÃ¶r Movie (title) och Review (rating, movie: ref)

Skapa nÃ¥gra recensioner kopplade till filmer

HÃ¤mta alla recensioner med .populate("movie")

AnvÃ¤nd .select() fÃ¶r att visa bara titel och betyg

----------------------
2. ğŸ“š BÃ¶cker + LÃ¥n

Uppgift:
Skapa modeller: Book (title), Loan (loanDate, book: ref)

HÃ¤mta alla lÃ¥n med boktiteln inbÃ¤ddad

BegrÃ¤nsa svaren till loanDate och book.title med .populate(...).select(...)

----------------------
3. ğŸ§‘â€âš•ï¸ LÃ¤kare + Patienter

Uppgift:
Skapa modeller: Doctor (name), Patient (name, doctor: ref)

HÃ¤mta alla patienter + lÃ¤karnamn

AnvÃ¤nd .populate() och visa endast nÃ¶dvÃ¤ndiga fÃ¤lt

----------------------
ğŸŸ  Medel nivÃ¥

1. ğŸ‘¤ AnvÃ¤ndare + InlÃ¤gg + Kategorier

Uppgift:
Skapa User, Post, Category

Post har ref till bÃ¥de user och category

HÃ¤mta alla inlÃ¤gg â†’ .populate("user") och .populate("category")

Visa endast post.title, user.name, category.name

----------------------
2. ğŸ’° Kunder + Ordrar + Orderrader

Uppgift:
Skapa Customer, Order och LineItem (med ref till Order och Product)

HÃ¤mta en order â†’ inkludera alla rader och varje produktens namn + pris

Bonus: RÃ¤kna ut totalsumma med .reduce() i JS (inte .aggregate)

----------------------
3. ğŸ“… Event + Biljetter

Uppgift:
Event har namn och datum

Ticket har event (ref) och buyerName

HÃ¤mta alla biljetter, visa endast eventnamn + buyerName (med .populate(...).select(...))

----------------------
ğŸ”´ SvÃ¥r nivÃ¥

1. ğŸï¸ Filmer + Recensioner + Statistik

Uppgift:
Skapa Movie + Review

AnvÃ¤nd .aggregate() fÃ¶r att:
    $group: rÃ¤kna antal recensioner per film

    $avg: snittbetyg

    $sort: hÃ¶gsta fÃ¶rst

Visa titel, snittbetyg och antal

----------------------
2. ğŸ‘¨â€ğŸ« LÃ¤rare + Klasser + Skolor

Uppgift:
Teacher undervisar i Class, som tillhÃ¶r School

HÃ¤mta alla klasser fÃ¶r en teacher â†’ med skolans namn via .populate() pÃ¥ tvÃ¥ nivÃ¥er

Visa endast teacher.name, class.name, school.name

----------------------
3. ğŸ§¾ Fakturor + Rader + Produkter (Advanced aggregate)

Uppgift:
Invoice har flera LineItems, varje LineItem har en ref till Product

Bygg en .aggregate() pipeline:

$match: bara en specifik invoice

$lookup: hÃ¤mta produktinfo

$project: visa quantity, productName, subtotal (price Ã— quantity)
