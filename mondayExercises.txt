ğŸ§‘â€ğŸ’» SJÃ„LVSTÃ„NDIGA Ã–VNINGAR â€“ Mongoose: Schema + Relationer

ğŸ§  Syfte:

TrÃ¤na pÃ¥ att skapa modeller och schemas med validering

Bygga en-till-mÃ¥nga-relationer med ref

HÃ¤mta relaterad data med .populate()

AnvÃ¤nda .select() fÃ¶r att begrÃ¤nsa fÃ¤lt

----------------------
Tips:
Best practice i Mongoose / MongoDB:

Modellnamn (i mongoose.model(...)) â†’ singular
Exempel: export default mongoose.model("Product", productSchema);

Mongoose fÃ¶rvÃ¤ntar sig singular â€“ den pluraliserar automatiskt nÃ¤r den skapar samlingen i MongoDB.
Product blir automatiskt products i databasen (om du inte anger ett specifikt collection-namn).

Samlingar i MongoDB â†’ plural (automatiskt)
Om du definierar modellen sÃ¥ hÃ¤r: mongoose.model("User", userSchema);
...sÃ¥ skapar Mongoose en MongoDB-collection som heter users.

Sammanfattat:

| Vad      | Namn      | Format     | Exempel                     |
|----------|-----------|------------|-----------------------------|
| Modell   | Singular  | PascalCase | Product, User, Student      |
| Samling  | Plural    | lowercase  | products, users, students   |


----------------------
Extra tips:
Vill du Ã¶verstyra och anvÃ¤nda ett specifikt samlingsnamn, kan du gÃ¶ra sÃ¥ hÃ¤r:
export default mongoose.model("Product", productSchema, "items");

DÃ¥ anvÃ¤nds "items" som collection name â€“ men det Ã¤r inte nÃ¶dvÃ¤ndigt i normalfallet.

----------------------
ğŸŸ¢ LÃ¤tt nivÃ¥

1.ğŸª Produkter + Kategorier

Scenario: En produkt tillhÃ¶r en kategori

Uppgift:
Skapa modeller: Products (name, price), Category (name)

LÃ¤gg till category: { type: ObjectId, ref: "Category" } i Product

POST /products, GET /products med .populate("category")

----------------------
2. ğŸ“š BÃ¶cker + FÃ¶rfattare

Scenario: Flera bÃ¶cker kopplas till en fÃ¶rfattare

Uppgift:
Skapa Author och Book

Varje Book har title, pages, author (ref)

GET /books ska returnera varje bok + fÃ¶rfattarens namn och utan _id

----------------------
3. ğŸ¿ Filmer + RegissÃ¶r

Scenario: Varje film har en regissÃ¶r

Uppgift:
Director och Movie-modeller

HÃ¤mta alla filmer, inkludera endast name frÃ¥n regissÃ¶ren

----------------------
ğŸŸ  Medel nivÃ¥

1. ğŸ‘¤ AnvÃ¤ndare + Kommentarer

Scenario: Kommentarer tillhÃ¶r en anvÃ¤ndare

Uppgift:
User och Comment-modeller

Skapa POST /comments, GET /comments (med .populate("user"))

AnvÃ¤nd validering (required: true) i kommentartexten

----------------------
2. ğŸ›’ Kunder + Ordrar

Scenario: En kund kan ha flera ordrar

Uppgift:
Customer och Order-modeller

En order innehÃ¥ller total, items, customer (ref)

Testa route som hÃ¤mtar alla ordrar och visar kundens namn och mejl (endast dessa fÃ¤lt)

----------------------
3. ğŸ“… Event + Deltagare

Scenario: Deltagare registrerar sig till ett event

Uppgift:
Event och Attendee

Attendee innehÃ¥ller namn och ref till Event

HÃ¤mta alla deltagare, visa bara event.name och attendee.name

----------------------
ğŸ”´ SvÃ¥r nivÃ¥

1. ğŸ‘¨â€ğŸ“ Studenter + Kurser + Registreringar (many-to-many)

Uppgift:
Modeller: Student, Course, Enrollment

Enrollment innehÃ¥ller ref till student + course

HÃ¤mta alla kurser fÃ¶r en student med dubbla .populate()

----------------------
2. ğŸ§¾ Fakturor + Rader + Produkter

Scenario: Faktura innehÃ¥ller flera rader som pekar pÃ¥ produkter

Uppgift:
Invoice, LineItem, Product

LineItem har quantity och ref till Product och Invoice

HÃ¤mta en faktura â†’ alla rader + varje produkts namn

----------------------
3. ğŸ§‘â€ğŸ« LÃ¤rare + Klasser + Skolor

Scenario: LÃ¤rare undervisar i flera klasser, som tillhÃ¶r olika skolor

Uppgift:
Teacher, Class, School

En Class har teacher och school (ref)

HÃ¤mta alla klasser fÃ¶r en lÃ¤rare â†’ visa klassnamn + skolnamn (med .populate() pÃ¥ tvÃ¥ nivÃ¥er)
